(()=>{"use strict";var e="all_films",i="favourite_films";a(e)||a(i)||(t(e,[{id:1,imgUrl:"assets/img/Marvel1.jpg",movieName:"Marvel One-Shot: Item 47",releaseYear:2012,isFavourite:!1,description:"The best movie ever!"},{id:2,imgUrl:"./assets/img/Marvel2.jpg",movieName:"Captain Marvel",releaseYear:2019,isFavourite:!1,description:"The best movie ever!"},{id:3,imgUrl:"./assets/img/Marvel3.jpg",movieName:"Marvel Studios: Legends",releaseYear:2021,isFavourite:!1,description:"The best movie ever!"},{id:4,imgUrl:"./assets/img/Marvel4.jpg",movieName:"Marvel One-Shot: The Consultant",releaseYear:2011,isFavourite:!1,description:"The best movie ever!"},{id:5,imgUrl:"./assets/img/Marvel5.jpg",movieName:"Marvel Studios: Assembled",releaseYear:2021,isFavourite:!1,description:"The best movie ever!"},{id:6,imgUrl:"./assets/img/Marvel6.jpg",movieName:"Lego Marvel Super Heroes",releaseYear:2013,isFavourite:!1,description:"The best movie ever!"},{id:7,imgUrl:"./assets/img/Marvel7.jpg",movieName:"Marvel One-Shot: A Funny Thing Happened on the Way to Thor's Hammer",releaseYear:2011,isFavourite:!1,description:"The best movie ever!"},{id:8,imgUrl:"./assets/img/Marvel8.jpg",movieName:"Marvel One-Shot: Agent Carter",releaseYear:2013,isFavourite:!1,description:"The best movie ever!"},{id:9,imgUrl:"./assets/img/Marvel9.jpg",movieName:"Marvel One-Shot: All Hail the King",releaseYear:2014,isFavourite:!1,description:"The best movie ever!"},{id:10,imgUrl:"./assets/img/Marvel10.jpg",movieName:"Marvel Studios: Assembling a Universe",releaseYear:2014,isFavourite:!1,description:"The best movie ever!"}]),t(i,[])),n(a(e),e);var r=document.querySelector(".film-cards-container__favourite-films");function t(e,i){localStorage.setItem(e,JSON.stringify(i))}function a(e){return JSON.parse(localStorage.getItem(e))}function n(r,o){document.querySelector(".film-cards-container__favourite-films").insertAdjacentHTML("afterend",'<div id="'.concat(o,'" class="film-cards-container"></div>'));var c=document.querySelector(".film-cards-container");r.length?r.forEach((function(e){return function(e,i){var r=e.imgUrl,t=e.movieName,a=e.releaseYear,n=e.isFavourite?"favourite.png":"notFavourite.png";i.insertAdjacentHTML("beforeend",'<div class="film-card">\n      <img class="film-card__poster" src="'.concat(r,'">\n      <div class="film-card__title">').concat(t,'</div>\n      <div class="film-card__year">').concat(a,'</div>\n      <button class="film-card__button">\n        <img class="film-card__button-img" src="./assets/img/').concat(n,'">\n      </button>\n    </div>'))}(e,c)})):c.innerHTML="<div>Список пуст</div>",document.querySelectorAll(".film-card__button").forEach((function(c,l){return c.addEventListener("click",(function(){return function(r,o,c){r[c].isFavourite=!r[c].isFavourite;var l=s(r),m=l.filter((function(e){return e.isFavourite})).sort((function(e,i){return i.id-e.id})),v=document.getElementById(o);switch(o){case e:return t(e,l),t(i,m),v.remove(),void n(l,o);case i:var d=a(e);return d[c].isFavourite=!d[c].isFavourite,t(e,s(d)),t(i,m),v.remove(),void n(m,o);default:return}}(r,o,l)}))})),document.querySelectorAll(".film-card__title").forEach((function(e,i){return e.addEventListener("click",(function(){var e,t,a,n,s,o,l,m;e=r[i],t=c,a=e.imgUrl,n=e.movieName,s=e.releaseYear,o=e.isFavourite,l=e.description,m=o?"favourite.png":"notFavourite.png",t.insertAdjacentHTML("afterend",'\n  <div class="modal">\n    <div class="modal-content">\n      <div class="close-modal">\n        <img class="close-modal-icon" src="./assets/img/cross.png" >\n      </div>\n      \n      <img class="film-card__poster" src="'.concat(a,'">\n      <div class="film-card__title">').concat(n,'</div>\n      <div class="film-card__year">').concat(s,'</div>\n      <div class="film-card__description">').concat(l,'</div>\n      <button class="film-card__button">\n        <img class="film-card__button-img" src="./assets/img/').concat(m,'">\n      </button>\n    </div>\n  </div>\n  ')),document.querySelector(".close-modal").addEventListener("click",(function(){document.querySelector(".modal").remove()}),{once:!0})}))}))}function s(e){return e.sort((function(e,i){return e.id-i.id})).sort((function(e){return e.isFavourite?-1:1}))}r.addEventListener("click",(function(){return function(r){var t=document.querySelector(".film-cards-container"),s=document.querySelector(".film-cards-container__title");switch(t.id){case e:return t.remove(),s.innerHTML="Favourite Films",r.innerHTML="See All Films",void n(a(i),i);case i:return t.remove(),s.innerHTML="All Films",r.innerHTML="See Favourite Films",void n(a(e),e);default:return}}(r)}))})();